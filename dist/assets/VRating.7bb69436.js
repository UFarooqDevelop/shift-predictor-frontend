import{$ as T,a7 as k,a0 as D,C as E,D as H,ac as O,E as U,S as j,O as d,b9 as q,k as _,L as G,I as J,p as l,F as B,z as K}from"./index.26ca9a5e.js";import{a as Q}from"./router.9dcd5247.js";import{V as W}from"./VBtn.fc10e72a.js";const p=T()({name:"VRating",props:{name:String,itemAriaLabel:{type:String,default:"$vuetify.rating.ariaLabel.item"},activeColor:String,color:String,clearable:Boolean,disabled:Boolean,emptyIcon:{type:k,default:"$ratingEmpty"},fullIcon:{type:k,default:"$ratingFull"},halfIncrements:Boolean,hover:Boolean,length:{type:[Number,String],default:5},readonly:Boolean,modelValue:{type:Number,default:0},itemLabels:Array,itemLabelPosition:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},ripple:Boolean,...Q(),...D(),...E(),...H()},emits:{"update:modelValue":e=>!0},setup(e,C){let{slots:r}=C;const{t:F}=O(),{themeClasses:P}=U(e),c=j(e,"modelValue"),L=d(()=>q(Number(e.length),1)),I=d(()=>L.value.flatMap(n=>e.halfIncrements?[n-.5,n]:[n])),m=_(-1),g=_(-1),M=_();let b=!1;const h=d(()=>I.value.map(n=>{var f;const i=e.hover&&m.value>-1,t=c.value>=n,a=m.value>=n,u=(i?a:t)?e.fullIcon:e.emptyIcon,s=(f=e.activeColor)!=null?f:e.color,y=t||a?s:e.color;return{isFilled:t,isHovered:a,icon:u,color:y}})),R=d(()=>[0,...I.value].map(n=>{function i(){m.value=n}function t(){m.value=-1}function a(){if(n===0&&c.value===0){var s;(s=M.value)==null||s.focus()}else g.value=n}function o(){b||(g.value=-1)}function u(){e.disabled||e.readonly||(c.value=c.value===n&&e.clearable?0:n)}return{onMouseenter:e.hover?i:void 0,onMouseleave:e.hover?t:void 0,onFocus:a,onBlur:o,onClick:u}}));function w(){b=!0}function N(){b=!1}const S=d(()=>{var n;return(n=e.name)!=null?n:`v-rating-${G()}`});function v(n){var i,t;let{value:a,index:o,showStar:u=!0}=n;const{onMouseenter:s,onMouseleave:y,onFocus:f,onBlur:z,onClick:A}=R.value[o+1],x=`${S.value}-${String(a).replace(".","-")}`,V={color:(i=h.value[o])==null?void 0:i.color,density:e.density,disabled:e.disabled,icon:(t=h.value[o])==null?void 0:t.icon,ripple:e.ripple,size:e.size,tag:"span",variant:"plain"};return l(B,null,[l("label",{for:x,class:{"v-rating__item--half":e.halfIncrements&&a%1>0,"v-rating__item--full":e.halfIncrements&&a%1===0},onMousedown:w,onMouseup:N,onMouseenter:s,onMouseleave:y},[l("span",{class:"v-rating__hidden"},[F(e.itemAriaLabel,a,e.length)]),u?r.item?r.item({...h.value[o],props:V,value:a,index:o}):l(W,V,null):void 0]),l("input",{class:"v-rating__hidden",name:S.value,id:x,type:"radio",value:a,checked:c.value===a,onClick:A,onFocus:f,onBlur:z,ref:o===0?M:void 0,readonly:e.readonly,disabled:e.disabled},null)])}function $(n){return r["item-label"]?r["item-label"](n):n.label?l("span",null,[n.label]):l("span",null,[K("\xA0")])}return J(()=>{var n;const i=!!((n=e.itemLabels)!=null&&n.length)||r["item-label"];return l(e.tag,{class:["v-rating",{"v-rating--hover":e.hover,"v-rating--readonly":e.readonly},P.value]},{default:()=>[l(v,{value:0,index:-1,showStar:!1},null),L.value.map((t,a)=>{var o,u;return l("div",{class:"v-rating__wrapper"},[i&&e.itemLabelPosition==="top"?$({value:t,index:a,label:(o=e.itemLabels)==null?void 0:o[a]}):void 0,l("div",{class:["v-rating__item",{"v-rating__item--focused":Math.ceil(g.value)===t}]},[e.halfIncrements?l(B,null,[l(v,{value:t-.5,index:a*2},null),l(v,{value:t,index:a*2+1},null)]):l(v,{value:t,index:a},null)]),i&&e.itemLabelPosition==="bottom"?$({value:t,index:a,label:(u=e.itemLabels)==null?void 0:u[a]}):void 0])})]})}),{}}});export{p as V};
