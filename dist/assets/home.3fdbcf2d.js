import{C as ce}from"./CardAdvanceSourceVisits.cf2730bd.js";/* empty css                                                                     */import{aK as Z,k as m,o as g,b,w as n,p as a,m as t,z as N,x as h,q as d,c7 as q,c6 as ee,d as oe,O as H,U as ue,Q as fe,aT as $,ap as I,y as me,aI as X,c as C,a as le,F as z}from"./index.e738b4e7.js";import{V as ae}from"./VSpacer.75134c4c.js";import{V as pe,a as L,b as W}from"./VList.cdc47968.js";import{c as te,V as Y}from"./VCard.10e5aa9e.js";import _e from"./calendar.dd113859.js";import{a as p,V as D}from"./VRow.c652739d.js";import{V as de}from"./VDivider.97b27573.js";import{V as ie}from"./VTextField.76971af0.js";import{V as re}from"./VTable.35524739.js";import{V as ve}from"./VPagination.67224bad.js";import{h as J}from"./moment.9709ab41.js";import{V as se}from"./VSelect.0d205fcc.js";import{V as ge}from"./VBtn.1c5c346d.js";import{V as Q}from"./VCheckbox.eb77013a.js";import{a as he}from"./formatters.2778bb47.js";import{V as ye}from"./VAvatar.5c76f4e9.js";import{V as Ve}from"./VImg.ce237d22.js";import{V as we,a as Ne}from"./VTabs.02bd6d5f.js";import{V as be,a as G}from"./VWindowItem.64f1ec6e.js";import"./VDialog.4b0761a0.js";import"./scopeId.cb213b8f.js";import"./forwardRefs.c003b6b8.js";import"./VOverlay.360cde10.js";import"./router.c4bf81d7.js";import"./lazy.3adf4924.js";import"./easing.36b781ab.js";import"./dialog-transition.36cd2ff7.js";import"./VForm.53b79068.js";import"./VInput.700db06c.js";import"./index.c6a921d2.js";import"./position.c876b013.js";import"./VMain.ccbf8801.js";import"./ssrBoot.5926a313.js";import"./AppDateTimePicker.090a85f1.js";import"./VField.9d276c6a.js";/* empty css                   */import"./VCounter.1635bbce.js";import"./VMenu.d6b4c9ed.js";import"./VCheckboxBtn.eb21a6fb.js";import"./VSelectionControl.66567d5d.js";import"./VChip.8ebcbe27.js";import"./index.0d4b9ec4.js";import"./VSlideGroup.227f6ffa.js";const O=c=>(q("data-v-f6b90b57"),c=c(),ee(),c),xe={class:"text-base font-weight-semibold w-25"},ke=O(()=>t("span",{class:"ml-lg-15"},null,-1)),Se={class:"text-body-2"},Te={class:"text-base font-weight-semibold w-25"},Ie=O(()=>t("span",{class:"ml-lg-15"},null,-1)),Ce={class:"text-body-2 ml-lg-8"},De={class:"text-base font-weight-semibold w-25"},Ue=O(()=>t("span",{class:"ml-lg-15"},null,-1)),Me={class:"text-body-2 ml-lg-9"},Pe={class:"text-base font-weight-semibold w-25"},$e=O(()=>t("span",{class:"ml-lg-15"},null,-1)),Ye={class:"text-body-2 ml-lg-7"},Be={class:"text-base font-weight-semibold w-25"},Ae=O(()=>t("span",{class:"ml-lg-15"},null,-1)),Fe={class:"text-body-2 ml-lg-8"},je={__name:"UserInfoCard",setup(c){const e=m(JSON.parse(localStorage.getItem("userData"))||{});return(r,_)=>(g(),b(Y,{title:"Information",style:{height:"550px","overflow-y":"auto"}},{default:n(()=>[a(ae),a(te,null,{default:n(()=>[a(pe,{class:"card-list"},{default:n(()=>[a(L,null,{default:n(()=>[a(W,null,{default:n(()=>{var i;return[t("h6",xe,[N(" Reference: "),ke,t("span",Se,h(((i=d(e))==null?void 0:i.reference)||"N/A"),1)])]}),_:1})]),_:1}),a(L,null,{default:n(()=>[a(W,null,{default:n(()=>{var i;return[t("h6",Te,[N(" Name: "),Ie,t("span",Ce,h(((i=d(e))==null?void 0:i.username)||"N/A"),1)])]}),_:1})]),_:1}),a(L,null,{default:n(()=>[a(W,null,{default:n(()=>{var i;return[t("h6",De,[N(" Email: "),Ue,t("span",Me,h(((i=d(e))==null?void 0:i.email)||"N/A"),1)])]}),_:1})]),_:1}),a(L,null,{default:n(()=>[a(W,null,{default:n(()=>{var i,v;return[t("h6",Pe,[N(" Phone: "),$e,t("span",Ye,h(((v=(i=d(e))==null?void 0:i.profile)==null?void 0:v.phone_number)||"N/A"),1)])]}),_:1})]),_:1}),a(L,null,{default:n(()=>[a(W,null,{default:n(()=>{var i;return[t("h6",Be,[N(" Driver: "),Ae,t("span",Fe,h((i=d(e).profile)!=null&&i.is_driver?"Yes":"No"),1)])]}),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}},Ee=Z(je,[["__scopeId","data-v-f6b90b57"]]),Le=oe({__name:"OverView",setup(c){return(e,r)=>(g(),b(D,null,{default:n(()=>[a(p,{cols:"12",class:"d-lg-flex flex-lg-row pa-0"},{default:n(()=>[a(p,{cols:"12",lg:"6",md:"12"},{default:n(()=>[a(Ee)]),_:1}),a(de,{class:"mx-2"}),a(p,{cols:"12",lg:"6",md:"12"},{default:n(()=>[a(Y,null,{default:n(()=>[a(D,null,{default:n(()=>[a(p,{cols:"12"},{default:n(()=>[a(ce)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),a(p,{cols:"12"},{default:n(()=>[a(_e)]),_:1})]),_:1}))}});const We=c=>(q("data-v-0037cf69"),c=c(),ee(),c),Qe=We(()=>t("thead",null,[t("tr",null,[t("th",{scope:"col","aria-sort":"ascending"}," QUALIFICATION "),t("th",{scope:"col"}," CERTIFICATE NUMBER "),t("th",{scope:"col"}," ISSUE DATE "),t("th",{scope:"col"}," EXPIRY DATE ")])],-1)),Oe={class:"d-flex align-center"},Re={class:"text-base mb-0"},He={class:"d-flex align-center"},Je={class:"text-base mb-0"},ze={class:"d-flex align-center"},Ke={class:"text-base mb-0"},Xe={class:"d-flex align-center"},Ge={class:"text-base mb-0"},Ze={__name:"QualificationCharts",setup(c){const e=m("");m("");const r=m([]);m(1);const _=m(1),i=10,v=H(()=>(_.value-1)*i),f=H(()=>v.value+i),B=m(0),A=m(1);ue(()=>{K()});const V=H(()=>r.value.slice(v.value,f.value)),R=H(()=>{var u,o,l,x,k,S;if(!e.value)return B.value=(o=(u=r.value)==null?void 0:u.length)!=null?o:0,A.value=Math.ceil(((x=(l=r.value)==null?void 0:l.length)!=null?x:0)/i),V.value;const y=e.value.toLowerCase().trim(),s=r.value.filter(U=>{var w;return(w=U.training)==null?void 0:w.name.toLowerCase().includes(y)});return B.value=(k=s==null?void 0:s.length)!=null?k:0,A.value=Math.ceil(B.value/i),(S=s==null?void 0:s.slice(v.value,f.value))!=null?S:[]});fe(e,y=>{_.value=1});function K(){$.get("/my_courses").then(y=>{r.value=y.data.data}).catch(y=>{console.error(y)})}return(y,s)=>(g(),b(Y,{title:"Qualifications"},{default:n(()=>[a(ae),a(D,{class:"px-5 d-lg-flex justify-lg-end"},{default:n(()=>[a(p,{cols:"3"},{default:n(()=>[a(ie,{modelValue:d(e),"onUpdate:modelValue":s[0]||(s[0]=u=>I(e)?e.value=u:null),placeholder:"Search","prepend-inner-icon":"tabler-search",outlined:""},null,8,["modelValue"])]),_:1})]),_:1}),a(de,{class:"my-2"}),d(r).length?X("",!0):(g(),b(D,{key:0},{default:n(()=>[a(p,{cols:"12"},{default:n(()=>[a(te,{class:"text-center text-info"},{default:n(()=>[a(me,{class:"mr-2"},{default:n(()=>[N("mdi-info")]),_:1}),N(" No Data Available ")]),_:1})]),_:1})]),_:1})),d(r).length?(g(),b(re,{key:1,items:d(R),sortable:"",hover:"",class:"text-no-wrap pa-8"},{default:n(()=>[Qe,t("tbody",null,[(g(!0),C(z,null,le(d(R),u=>{var o,l;return g(),C("tr",{key:u.id,style:{height:"3.75rem"}},[t("td",null,[t("div",Oe,[t("div",null,[t("p",Re,h((o=u.training)==null?void 0:o.name),1)])])]),t("td",null,[t("div",He,[t("div",null,[t("p",Je,h(u.license_id),1)])])]),t("td",null,[t("div",ze,[t("div",null,[t("p",Ke,h((l=u==null?void 0:u.created_at)==null?void 0:l.split("T")[0]),1)])])]),t("td",null,[t("div",Xe,[t("div",null,[t("p",Ge,h(u.expiry_date),1)])])])])}),128))])]),_:1},8,["items"])):X("",!0),d(r).length?(g(),b(ve,{key:2,modelValue:d(_),"onUpdate:modelValue":s[1]||(s[1]=u=>I(_)?_.value=u:null),length:d(A),"prev-icon":"mdi-chevron-left","next-icon":"mdi-chevron-right",class:"mt-8",onPageChanged:s[2]||(s[2]=u=>_.value=u)},null,8,["modelValue","length"])):X("",!0)]),_:1}))}},qe=Z(Ze,[["__scopeId","data-v-0037cf69"]]);const el=c=>(q("data-v-c369a42a"),c=c(),ee(),c),ll=el(()=>t("thead",null,[t("tr",null,[t("th",{scope:"col"}),t("th",{scope:"col"}," Morning "),t("th",{scope:"col"}," Afternoon "),t("th",{scope:"col"}," Evening "),t("th",{scope:"col"}," Awake Night "),t("th",{scope:"col"}," Sleep Night ")])],-1)),al={__name:"PreferencesChart",setup(c){const e=m([{id:1,name:"Monday",morning:!1,afternoon:!1,evening:!1,awakeNight:!1,sleepNight:!1},{id:2,name:"Tuesday",morning:!1,afternoon:!1,evening:!1,awakeNight:!1,sleepNight:!1},{id:3,name:"Wednesday",morning:!1,afternoon:!1,evening:!1,awakeNight:!1,sleepNight:!1},{id:4,name:"Thursday",morning:!1,afternoon:!1,evening:!1,awakeNight:!1,sleepNight:!1},{id:5,name:"Friday",morning:!1,afternoon:!1,evening:!1,awakeNight:!1,sleepNight:!1},{id:6,name:"Saturday",morning:!1,afternoon:!1,evening:!1,awakeNight:!1,sleepNight:!1},{id:7,name:"Sunday",morning:!1,afternoon:!1,evening:!1,awakeNight:!1,sleepNight:!1}]),r=m([]),_=m([]),i=m(""),v=m([]),f=m([]);ue(()=>{B(),A(),R()});function B(){$.get("/locations").then(s=>{v.value=s.data.data}).catch(s=>{console.log(s)})}function A(){$.get("/towns").then(s=>{f.value=s.data.data}).catch(s=>{console.log(s)})}const V=m({});function R(){$.get("/my_preferencs").then(s=>{var u,o,l,x,k,S,U,w,F,j,E;V.value=(u=s.data.data)==null?void 0:u[0],r.value=(S=(k=(x=(l=(o=s.data)==null?void 0:o.data[0])==null?void 0:l.preferred_locations)==null?void 0:x.split(","))==null?void 0:k.map(M=>v.value.find(P=>P.id===parseInt(M))))==null?void 0:S.filter(Boolean),_.value=(E=(j=(F=(w=(U=s.data)==null?void 0:U.data[0])==null?void 0:w.preferred_towns)==null?void 0:F.split(","))==null?void 0:j.map(M=>f.value.find(P=>P.id===parseInt(M))))==null?void 0:E.filter(Boolean),i.value=s.data.data[0].updated_at?J(s.data.data[0].updated_at).format("YYYY/MM/DD"):J(s.data.data[0].created_at).format("YYYY/MM/DD"),K(s.data.data)}).catch(s=>{console.log(s)})}function K(s){e.value.forEach((u,o)=>{const l=s[o];l!=null&&l.Monday&&(e.value[0].morning=l.Monday.includes("1"),e.value[0].afternoon=l.Monday.includes("2"),e.value[0].evening=l.Monday.includes("3"),e.value[0].awakeNight=l.Monday.includes("4"),e.value[0].sleepNight=l.Monday.includes("5")),l!=null&&l.Tuesday&&(e.value[1].morning=l.Tuesday.includes("1"),e.value[1].afternoon=l.Tuesday.includes("2"),e.value[1].evening=l.Tuesday.includes("3"),e.value[1].awakeNight=l.Tuesday.includes("4"),e.value[1].sleepNight=l.Tuesday.includes("5")),l!=null&&l.Wednesday&&(e.value[2].morning=l.Wednesday.includes("1"),e.value[2].afternoon=l.Wednesday.includes("2"),e.value[2].evening=l.Wednesday.includes("3"),e.value[2].awakeNight=l.Wednesday.includes("4"),e.value[2].sleepNight=l.Wednesday.includes("5")),l!=null&&l.Thursday&&(e.value[3].morning=l.Thursday.includes("1"),e.value[3].afternoon=l.Thursday.includes("2"),e.value[3].evening=l.Thursday.includes("3"),e.value[3].awakeNight=l.Thursday.includes("4"),e.value[3].sleepNight=l.Thursday.includes("5")),l!=null&&l.Friday&&(e.value[4].morning=l.Friday.includes("1"),e.value[4].afternoon=l.Friday.includes("2"),e.value[4].evening=l.Friday.includes("3"),e.value[4].awakeNight=l.Friday.includes("4"),e.value[4].sleepNight=l.Friday.includes("5")),l!=null&&l.Saturday&&(e.value[5].morning=l.Saturday.includes("1"),e.value[5].afternoon=l.Saturday.includes("2"),e.value[5].evening=l.Saturday.includes("3"),e.value[5].awakeNight=l.Saturday.includes("4"),e.value[5].sleepNight=l.Saturday.includes("5")),l!=null&&l.Sunday&&(e.value[6].morning=l.Sunday.includes("1"),e.value[6].afternoon=l.Sunday.includes("2"),e.value[6].evening=l.Sunday.includes("3"),e.value[6].awakeNight=l.Sunday.includes("4"),e.value[6].sleepNight=l.Sunday.includes("5"))})}const y=()=>{var F,j,E,M,P,ne;const s=(F=JSON.parse(localStorage.getItem("userData")||"{}"))==null?void 0:F.id,u=[e.value[0].morning?"1":null,e.value[0].afternoon?"2":null,e.value[0].evening?"3":null,e.value[0].awakeNight?"4":null,e.value[0].sleepNight?"5":null].filter(Boolean).join(","),o=[e.value[1].morning?"1":null,e.value[1].afternoon?"2":null,e.value[1].evening?"3":null,e.value[1].awakeNight?"4":null,e.value[1].sleepNight?"5":null].filter(Boolean).join(","),l=[e.value[2].morning?"1":null,e.value[2].afternoon?"2":null,e.value[2].evening?"3":null,e.value[2].awakeNight?"4":null,e.value[2].sleepNight?"5":null].filter(Boolean).join(","),x=[e.value[3].morning?"1":null,e.value[3].afternoon?"2":null,e.value[3].evening?"3":null,e.value[3].awakeNight?"4":null,e.value[3].sleepNight?"5":null].filter(Boolean).join(","),k=[e.value[4].morning?"1":null,e.value[4].afternoon?"2":null,e.value[4].evening?"3":null,e.value[4].awakeNight?"4":null,e.value[4].sleepNight?"5":null].filter(Boolean).join(","),S=[e.value[5].morning?"1":null,e.value[5].afternoon?"2":null,e.value[5].evening?"3":null,e.value[5].awakeNight?"4":null,e.value[5].sleepNight?"5":null].filter(Boolean).join(","),U=[e.value[6].morning?"1":null,e.value[6].afternoon?"2":null,e.value[6].evening?"3":null,e.value[6].awakeNight?"4":null,e.value[6].sleepNight?"5":null].filter(Boolean).join(","),w={...V.value?V.value:{},profile_id:s,preferred_locations:(j=r.value)==null?void 0:j.join(","),preferred_towns:(E=_.value)==null?void 0:E.join(","),updated_at:J().format("YYYY-MM-DD HH:mm:ss"),created_at:((M=V.value)==null?void 0:M.created_at)||J().format("YYYY-MM-DD HH:mm:ss"),Monday:u,Tuesday:o,Wednesday:l,Thursday:x,Friday:k,Saturday:S,Sunday:U};(P=V.value)!=null&&P.id?$.post("my_preferencs/"+((ne=V.value)==null?void 0:ne.id),w).then(T=>{T.data.success&&alert("Preferences updated successfully")}).catch(T=>{console.log(T),alert("Something went wrong")}):$.post("my_preferencs/save",w).then(T=>{T.data.success&&alert("Preferences updated successfully")}).catch(T=>{console.log(T),alert("Something went wrong")})};return(s,u)=>(g(),b(Y,{title:"Preferences"},{default:n(()=>[a(ae),a(D,{class:"pa-5"},{default:n(()=>[a(p,{cols:"4"},{default:n(()=>[a(se,{label:"Preferred Location",modelValue:d(r),"onUpdate:modelValue":u[0]||(u[0]=o=>I(r)?r.value=o:null),items:d(v),"item-value":"id","item-title":"address",multiple:"",outlined:"",clearable:""},null,8,["modelValue","items"])]),_:1}),a(p,{cols:"4"},{default:n(()=>[a(se,{modelValue:d(_),"onUpdate:modelValue":u[1]||(u[1]=o=>I(_)?_.value=o:null),items:d(f),"item-title":"town","item-value":"id",label:"Preferred Towns",outlined:"",multiple:"",clearable:""},null,8,["modelValue","items"])]),_:1}),a(p,{cols:"4"},{default:n(()=>[a(ie,{modelValue:d(i),"onUpdate:modelValue":u[2]||(u[2]=o=>I(i)?i.value=o:null),readonly:"",placeholder:"Last Updated",outlined:""},null,8,["modelValue"])]),_:1})]),_:1}),a(re,{hover:"",class:"text-no-wrap pa-8"},{default:n(()=>[ll,t("tbody",null,[(g(!0),C(z,null,le(d(e),o=>(g(),C("tr",{key:o.id},[t("td",null,h(o.name),1),t("td",null,[a(Q,{modelValue:o.morning,"onUpdate:modelValue":l=>o.morning=l},null,8,["modelValue","onUpdate:modelValue"])]),t("td",null,[a(Q,{modelValue:o.afternoon,"onUpdate:modelValue":l=>o.afternoon=l},null,8,["modelValue","onUpdate:modelValue"])]),t("td",null,[a(Q,{modelValue:o.evening,"onUpdate:modelValue":l=>o.evening=l},null,8,["modelValue","onUpdate:modelValue"])]),t("td",null,[a(Q,{modelValue:o.awakeNight,"onUpdate:modelValue":l=>o.awakeNight=l},null,8,["modelValue","onUpdate:modelValue"])]),t("td",null,[a(Q,{modelValue:o.sleepNight,"onUpdate:modelValue":l=>o.sleepNight=l},null,8,["modelValue","onUpdate:modelValue"])])]))),128))])]),_:1}),a(D,{class:"pa-5"},{default:n(()=>[a(p,{cols:"12"},{default:n(()=>[a(ge,{color:"primary",class:"ml-4",onClick:y},{default:n(()=>[N(" Submit ")]),_:1})]),_:1})]),_:1})]),_:1}))}},tl=Z(al,[["__scopeId","data-v-c369a42a"]]),nl={key:1,class:"text-5xl font-weight-semibold"},sl={class:"text-h4"},ol={class:"text-body-4"},Zl=oe({__name:"home",setup(c){const e=JSON.parse(localStorage.getItem("userData")||"null"),r=m(null),_=[{title:"Home",isDisabled:!1},{title:"Qualifications",isDisabled:!0},{title:"Preferences",isDisabled:!0}];return(i,v)=>(g(),C(z,null,[a(Y,null,{default:n(()=>[a(p,{cols:"12"},{default:n(()=>[a(D,null,{default:n(()=>[a(p,{cols:"12",md:"3",lg:"2",class:"d-flex justify-end"},{default:n(()=>[a(ye,{rounded:"",size:120,color:"primary",variant:"tonal"},{default:n(()=>[d(e).profile.picture?(g(),b(Ve,{key:0,src:d(e).profile.picture},null,8,["src"])):(g(),C("span",nl,h(d(he)(d(e).username)),1))]),_:1})]),_:1}),a(p,{cols:"12",md:"9",lg:"10"},{default:n(()=>[a(te,null,{default:n(()=>{var f;return[t("h4",sl,h(d(e).username),1),t("p",ol,h((f=d(e))==null?void 0:f.reference),1)]}),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),a(Y,{class:"mt-4"},{default:n(()=>[a(p,{cols:"12",md:"7",lg:"8"},{default:n(()=>[a(we,{modelValue:d(r),"onUpdate:modelValue":v[0]||(v[0]=f=>I(r)?r.value=f:null),class:"v-tabs--grow"},{default:n(()=>[(g(),C(z,null,le(_,f=>a(Ne,{key:f.title},{default:n(()=>[t("span",null,h(f.title),1)]),_:2},1024)),64))]),_:1},8,["modelValue"])]),_:1})]),_:1}),a(p,{cols:"12",class:"ma-0 pa-0"},{default:n(()=>[a(be,{modelValue:d(r),"onUpdate:modelValue":v[1]||(v[1]=f=>I(r)?r.value=f:null),class:"mt-6 ma-0 pa-0"},{default:n(()=>[a(G,null,{default:n(()=>[a(Le)]),_:1}),a(G,null,{default:n(()=>[a(qe)]),_:1}),a(G,null,{default:n(()=>[a(tl)]),_:1})]),_:1},8,["modelValue"])]),_:1})],64))}});export{Zl as default};
